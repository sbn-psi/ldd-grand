<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Ingest_LDD xmlns="http://pds.nasa.gov/pds4/pds/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pds.nasa.gov/pds4/pds/v1 http://pds.nasa.gov/pds4/pds/v1/PDS4_PDS_1A00.xsd">
  <name>grand</name>
  <ldd_version_id>1.0.0.0</ldd_version_id>
  <full_name>GRaND Instrument</full_name>
  <steward_id>sbn</steward_id>
  <namespace_id>grand</namespace_id>
  <comment>This is a template IngestLDD file.</comment>
  <last_modification_date_time>2020-04-22T23:29:51Z</last_modification_date_time>

  <DD_Attribute>
    <name>first_record</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.first_record</local_identifier>
    <nillable_flag>false</nillable_flag>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>the first record for which this readout is applicable</definition>
    <DD_Value_Domain>
      <enumeration_flag>false</enumeration_flag>
      <value_data_type>ASCII_Integer</value_data_type>
      <minimum_value>1</minimum_value>
      <pattern>first_row</pattern>
      <unit_of_measure_type>Units_of_None</unit_of_measure_type>
    </DD_Value_Domain>
  </DD_Attribute>

  <DD_Attribute>
    <name>last_record</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.last_record</local_identifier>
    <nillable_flag>false</nillable_flag>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>the first record for which this readout is applicable</definition>
    <DD_Value_Domain>
      <enumeration_flag>false</enumeration_flag>
      <value_data_type>ASCII_Integer</value_data_type>
      <minimum_value>1</minimum_value>
      <pattern>first_row</pattern>
      <unit_of_measure_type>Units_of_None</unit_of_measure_type>
    </DD_Value_Domain>
  </DD_Attribute>

  <DD_Attribute>
    <name>value</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.value</local_identifier>
    <nillable_flag>false</nillable_flag>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>the first record for which this readout is applicable</definition>
    <DD_Value_Domain>
      <enumeration_flag>false</enumeration_flag>
      <value_data_type>ASCII_Real</value_data_type>
      <minimum_value>1</minimum_value>
      <pattern>first_row</pattern>
      <unit_of_measure_type>Units_of_None</unit_of_measure_type>
    </DD_Value_Domain>
  </DD_Attribute>

  <DD_Class>
    <name>GRaND_Parameters</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.GRaND_Parameters</local_identifier>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>GRaND parameters</definition>
    <element_flag>true</element_flag>
    <DD_Association>
      <identifier_reference>pds.Local_Internal_Reference</identifier_reference>
      <reference_type>component_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>1</maximum_occurrences>
    </DD_Association>
    <DD_Association>
      <identifier_reference>grand.Tel_Readout_List</identifier_reference>
      <reference_type>component_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>1</maximum_occurrences>
    </DD_Association>
  </DD_Class>

  <DD_Class>
    <name>Tel_Readout_List</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.Tel_Readout_List</local_identifier>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>TELREADOUT keyword values</definition>
    <DD_Association>
      <identifier_reference>grand.Tel_Readout</identifier_reference>
      <reference_type>component_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>unbounded</maximum_occurrences>
    </DD_Association>
  </DD_Class>

  <DD_Class>
    <name>Tel_Readout</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.Tel_Readout</local_identifier>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>individual telreadout</definition>
    <DD_Association>
      <identifier_reference>grand.first_record</identifier_reference>
      <reference_type>attribute_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>1</maximum_occurrences>
    </DD_Association>
  </DD_Class>

  <DD_Class>
    <name>Tel_SOH_List</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.Tel_SOH_List</local_identifier>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>TELREADOUT keyword values</definition>
    <DD_Association>
      <identifier_reference>grand.Tel_SOH</identifier_reference>
      <reference_type>component_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>unbounded</maximum_occurrences>
    </DD_Association>
  </DD_Class>

  <DD_Class>
    <name>Tel_SOH</name>
    <version_id>1.0</version_id>
    <local_identifier>grand.Tel_SOH</local_identifier>
    <submitter_name>GRaND Instrument</submitter_name>
    <definition>individual telreadout</definition>
    <DD_Association>
      <identifier_reference>grand.first_record</identifier_reference>
      <reference_type>attribute_of</reference_type>
      <minimum_occurrences>1</minimum_occurrences>
      <maximum_occurrences>1</maximum_occurrences>
    </DD_Association>
  </DD_Class>

  <DD_Rule>
    <local_identifier>rule_grand_parameters</local_identifier>
    <rule_context>grand:GRaND_Parameters</rule_context>
    <rule_assign>name="local_id" value="pds:Local_Internal_Reference/pds:local_identifier_reference"</rule_assign>    
    <DD_Rule_Statement>
      <rule_type>Assert</rule_type>
      <rule_test>//(pds:Table_Character | pds:Table_Delimited | pds:Table_Binary)[pds:local_identifier = $local_id]</rule_test>
      <rule_message>In the grand:GRaND_Parameters class, the local_identifier_reference (&lt;sch:value-of select='$local_id'/&gt;) must reference a table.</rule_message>
      <rule_description>In the grand:GRaND_Parameters class, the local_identifier_reference must reference a table.</rule_description>
    </DD_Rule_Statement>
  </DD_Rule>

  <DD_Rule>
    <local_identifier>grand_parameters_ref</local_identifier>
    <rule_context>grand:GRaND_Parameters/pds:Internal_Reference</rule_context>
    <DD_Rule_Statement>
      <rule_type>Assert</rule_type>
      <rule_test>pds:reference_type = ('grand_parameters_to_product')</rule_test>
      <rule_message>In the nucspec:State_Table class, the attribute pds:reference_type must be equal to 'grand_parameters_to_product'.</rule_message>
    </DD_Rule_Statement>
  </DD_Rule>

<!--
  <DD_Rule>
    <local_identifier></local_identifier>
    <rule_context>TEL_Readout_List</rule_context>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_Readout must start with '1'</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>Each TEL_Readout must have a start less than its end</rule_message>
    </DD_Rule_Statement>

    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_Readout must end with with the same number of records as the table</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_Readout must start where the previous rule ends</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>TEL_Readouts may not overlap</rule_message>
    </DD_Rule_Statement>
  </DD_Rule>

  <DD_Rule>
    <local_identifier></local_identifier>
    <rule_context>TEL_SOH_List</rule_context>
    <rule_message>Each TEL_SOH must have a start less than its end</rule_message>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_SOH must start with '1'</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_SOH must end with with the same number of records as the table</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>One TEL_SOH must start where the previous rule ends</rule_message>
    </DD_Rule_Statement>
    <DD_Rule_Statement>
        <rule_type>Assert</rule_type>
        <rule_test></rule_test>
        <rule_message>TEL_SOH may not overlap</rule_message>
    </DD_Rule_Statement>
  </DD_Rule>
-->


</Ingest_LDD>